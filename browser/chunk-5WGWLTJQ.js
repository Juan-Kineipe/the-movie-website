import{B as V,C as A,D as G,E as H,F as q,G as J}from"./chunk-N4PDMEL7.js";import"./chunk-3JOGHJMQ.js";import{h as R,k as U,l as b}from"./chunk-UAPVRTKY.js";import{$a as y,Ab as d,Bb as _,C as S,Db as w,Dc as $,Ec as j,Fb as T,Fc as B,Gb as C,Ic as L,Jb as I,Kc as N,Lc as z,Pb as r,Qb as g,Rb as c,Ub as F,W as E,Xa as h,Xb as v,Yb as f,_a as a,ca as u,na as O,oa as M,rb as l,t as x,tb as m,wa as D,xa as k,xb as n,yb as o,zb as P}from"./chunk-M5MJLP5H.js";var X=t=>({loaded:t});function Y(t,p){if(t&1&&(n(0,"div",12),P(1,"app-movie-card",13),o()),t&2){let e=p.ngIf;a(),m("movie",e)}}function Z(t,p){t&1&&(n(0,"span"),r(1,", "),o())}function ee(t,p){if(t&1&&(d(0),r(1),l(2,Z,2,0,"span",14),_()),t&2){let e=p.$implicit,i=p.last;a(),c(" ",e.name,""),a(),m("ngIf",!i)}}function te(t,p){t&1&&(n(0,"span"),r(1,", "),o())}function ie(t,p){if(t&1&&(d(0),r(1),l(2,te,2,0,"span",14),_()),t&2){let e=p.$implicit,i=p.last;a(),c(" ",e.english_name,""),a(),m("ngIf",!i)}}function ne(t,p){t&1&&(n(0,"span"),r(1,", "),o())}function oe(t,p){if(t&1&&(d(0),r(1),l(2,ne,2,0,"span",14),_()),t&2){let e=p.$implicit,i=p.last;a(),c(" ",e.name,""),a(),m("ngIf",!i)}}function ae(t,p){t&1&&(n(0,"span"),r(1,", "),o())}function re(t,p){if(t&1&&(d(0),r(1),l(2,ae,2,0,"span",14),_()),t&2){let e=p.$implicit,i=p.last;a(),c(" ",e.name,""),a(),m("ngIf",!i)}}function pe(t,p){if(t&1&&(n(0,"p",15),r(1," Homepage: "),n(2,"a",16),r(3),o()()),t&2){let e=C().ngIf;a(2),I("href",e.homepage,h),a(),c(" ",e.homepage," ")}}function me(t,p){if(t&1){let e=w();n(0,"section",2)(1,"div",3)(2,"img",4),T("load",function(){D(e);let s=C();return k(s.onBackdropImageLoaded())}),o()(),n(3,"div",5),l(4,Y,2,1,"div",6),v(5,"async"),n(6,"div",7)(7,"h1"),r(8),o(),n(9,"p"),r(10),o(),n(11,"div")(12,"p",8),r(13,"Genres:"),o(),n(14,"p"),l(15,ee,3,2,"ng-container",9),o()(),n(16,"div")(17,"p",8),r(18,"Spoken Languages:"),o(),n(19,"p"),l(20,ie,3,2,"ng-container",9),o()(),n(21,"div")(22,"p",8),r(23,"Production Countries:"),o(),n(24,"p"),l(25,oe,3,2,"ng-container",9),o()(),n(26,"div")(27,"p",8),r(28,"Production Companies:"),o(),n(29,"p"),l(30,re,3,2,"ng-container",9),o()(),n(31,"div",10)(32,"div")(33,"p",8),r(34,"Budget:"),o(),n(35,"p"),r(36),v(37,"currency"),o()(),n(38,"div")(39,"p",8),r(40,"Revenue:"),o(),n(41,"p"),r(42),v(43,"currency"),o()()(),l(44,pe,4,2,"p",11),o()()()}if(t&2){let e=p.ngIf,i=C();a(2),I("alt",e.title),m("src",i.environment.tmdbImageBaseUrl+e.backdrop_path,h)("ngClass",F(19,X,i.backdropImageLoaded)),a(2),m("ngIf",f(5,13,i.movie$)),a(4),g(e.title),a(2),g(e.overview),a(5),m("ngForOf",e.genres),a(5),m("ngForOf",e.spoken_languages),a(5),m("ngForOf",e.production_countries),a(5),m("ngForOf",e.production_companies),a(6),g(f(37,15,e.budget)),a(6),g(f(43,17,e.revenue)),a(2),m("ngIf",e.homepage)}}var Q=(()=>{class t{constructor(e,i){this.route=e,this.movieService=i,this.environment=V,this.backdropImageLoaded=!1,this.movieDetails$=this.route.paramMap.pipe(x(s=>s.get("id")),S(s=>s!==null),E(s=>this.movieService.getMovieDetails(s))),this.movie$=this.movieDetails$.pipe(x(s=>this.mapToMovie(s)))}ngOnInit(){}mapToMovie(e){return{id:e.id,title:e.title,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,release_date:e.release_date,vote_average:e.vote_average,vote_count:e.vote_count,adult:e.adult,original_language:e.original_language,original_title:e.original_title,popularity:e.popularity,video:e.video,genre_ids:e.genres.map(i=>i.id)}}onBackdropImageLoaded(){this.backdropImageLoaded=!0}static{this.\u0275fac=function(i){return new(i||t)(y(R),y(A))}}static{this.\u0275cmp=O({type:t,selectors:[["app-movie-details"]],decls:5,vars:3,consts:[["routerLink","/",1,"btn-back"],["class","movie-details",4,"ngIf"],[1,"movie-details"],[1,"movie-details__backdrop"],[3,"load","src","alt","ngClass"],[1,"movie-details__main"],["class","movie-details__card",4,"ngIf"],[1,"movie-details__info"],[1,"movie-details__label"],[4,"ngFor","ngForOf"],[1,"movie-details__budget"],["class","movie-details__homepage",4,"ngIf"],[1,"movie-details__card"],[3,"movie"],[4,"ngIf"],[1,"movie-details__homepage"],["target","_blank",3,"href"]],template:function(i,s){i&1&&(n(0,"main")(1,"mat-icon",0),r(2," arrow_back"),o(),l(3,me,45,21,"section",1),v(4,"async"),o()),i&2&&(a(3),m("ngIf",f(4,1,s.movieDetails$)))},dependencies:[$,j,B,G,U,q,L,N],styles:['main[_ngcontent-%COMP%]{align-content:center}.btn-back[_ngcontent-%COMP%]{position:absolute;top:50px;left:50px;z-index:2;cursor:pointer}.movie-details[_ngcontent-%COMP%]{padding:50px;display:grid;position:relative}.movie-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.movie-details__backdrop){z-index:1}.movie-details__backdrop[_ngcontent-%COMP%]{z-index:0;position:absolute}.movie-details__backdrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1.5s ease-in-out}.movie-details__backdrop[_ngcontent-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:.1}.movie-details__backdrop[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to right,#0f0f0f 0%,transparent 30%,transparent 70%,#0f0f0f 100%);pointer-events:none}.movie-details__backdrop[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,#0f0f0f 0%,transparent 30%,transparent 70%,#0f0f0f 100%);pointer-events:none}.movie-details__main[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-gap:50px;justify-self:center}.movie-details__main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.movie-details__card[_ngcontent-%COMP%]{max-width:400px}.movie-details__info[_ngcontent-%COMP%]{max-width:400px;display:grid;grid-gap:10px;align-content:start}.movie-details__label[_ngcontent-%COMP%]{font-weight:700}.movie-details__budget[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,auto)}.movie-details__homepage[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#87cefa}']})}}return t})();var le=[{path:"",component:Q}],W=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=u({imports:[b.forChild(le),b]})}}return t})();var Oe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=u({imports:[z,H,W,J]})}}return t})();export{Oe as MovieDetailsModule};
